{
  "id": "code-explainer",
  "name": "Code Explainer & Documenter",
  "tagline": "Explain code and generate documentation with AI",
  "overview": "Build an AI tool that explains complex code, generates documentation, and helps developers understand unfamiliar codebases. The core value: turn confusing code into clear explanations in seconds, saving hours of reading documentation or asking teammates.",
  "difficulty": "medium",
  "estimatedHours": 35,
  "problemSpace": {
    "commonProblems": [
      "Developers waste 10+ hours/week understanding unfamiliar code",
      "Junior developers struggle to read complex codebases",
      "Code reviews take too long due to explanation overhead",
      "Documentation gets out of sync with code",
      "Onboarding new team members is slow and manual"
    ],
    "validationQuestions": [
      "How often do you read code you didn't write?",
      "How long does it take to understand a new codebase?",
      "What's your current process for explaining code to teammates?",
      "Would you pay for a tool that explains any code instantly?"
    ]
  },
  "suggestedTechniques": [
    {
      "technique": "Prompt Engineering",
      "use": "Core feature - explain code clearly for target audience",
      "complexity": "Medium",
      "example": "System: Explain code clearly for [junior/senior] developers. Include purpose, how it works, edge cases."
    },
    {
      "technique": "Code Analysis",
      "use": "Extract context: function names, imports, complexity",
      "complexity": "Medium",
      "example": "Use AST parsing (optional) or regex to extract key code elements"
    },
    {
      "technique": "Multi-turn Conversation",
      "use": "Follow-up questions about code",
      "complexity": "Medium",
      "example": "Store conversation history, allow 'What does line 15 do?' follow-ups"
    },
    {
      "technique": "Structured Output",
      "use": "Generate documentation in consistent format",
      "complexity": "Low",
      "example": "Return JSON: { summary, parameters, returns, examples }"
    }
  ],
  "coreFeatures": [
    {
      "feature": "Code Explanation",
      "description": "Paste code, get plain English explanation",
      "priority": "must-have",
      "implementation": "Code input → detect language → build prompt → Claude → display explanation"
    },
    {
      "feature": "Multi-Language Support",
      "description": "Support 10+ languages: JS, Python, Go, Rust, etc.",
      "priority": "must-have",
      "implementation": "Auto-detect language or dropdown selector"
    },
    {
      "feature": "Explanation Depth",
      "description": "ELI5, Intermediate, Expert levels",
      "priority": "must-have",
      "implementation": "Toggle → adjust prompt complexity"
    },
    {
      "feature": "Interactive Q&A",
      "description": "Ask follow-up questions about code",
      "priority": "important",
      "implementation": "Store code + conversation in session, append to prompt"
    },
    {
      "feature": "Documentation Generation",
      "description": "Generate JSDoc/docstrings/comments",
      "priority": "important",
      "implementation": "Separate prompt: 'Generate documentation for this function'"
    },
    {
      "feature": "Code Complexity Score",
      "description": "Rate complexity (1-10) and suggest simplifications",
      "priority": "nice-to-have",
      "implementation": "Prompt Claude to rate complexity + suggestions"
    }
  ],
  "userStories": [
    "As a junior developer, I want to understand complex React hooks so I can learn from senior code",
    "As a code reviewer, I want quick explanations of unfamiliar patterns so I can review faster",
    "As an engineering manager, I want to generate documentation for legacy code so new hires can onboard faster",
    "As a student, I want to understand how algorithms work so I can learn programming concepts"
  ],
  "mvpScope": {
    "mustHave": [
      "Code input (textarea with syntax highlighting)",
      "Language auto-detection or selector",
      "Explanation depth toggle (ELI5/Intermediate/Expert)",
      "Generate explanation button",
      "Display explanation with formatting",
      "Copy explanation to clipboard"
    ],
    "v2Features": [
      "Interactive Q&A on code",
      "Documentation generation",
      "GitHub integration (explain from URL)",
      "VS Code extension",
      "Complexity scoring",
      "Diff explanation (explain changes between versions)"
    ]
  },
  "architectureGuidance": {
    "frontend": [
      "Next.js App Router",
      "Code editor component with syntax highlighting (Monaco or Prism)",
      "Language selector",
      "Explanation depth toggle",
      "Markdown renderer for explanations"
    ],
    "backend": [
      "API route: /api/explain",
      "Language detector (or use explicit selection)",
      "Prompt builder: builds explanation prompt based on depth level",
      "Claude client",
      "Optional: Code parser for context extraction"
    ],
    "database": [
      "Optional: Save explanations for history",
      "Schema: id, user_id, code, language, explanation, depth, timestamp"
    ]
  },
  "promptExamples": {
    "basicExplanation": {
      "system": "You are an expert programming instructor. Explain code clearly and concisely.",
      "user": "Explain this {{language}} code for a {{level}} developer:\n\n```{{language}}\n{{code}}\n```\n\nProvide:\n1. What it does (1-2 sentences)\n2. How it works (step-by-step)\n3. Key concepts used\n4. Potential edge cases or issues",
      "variables": {
        "language": "JavaScript | Python | Go | etc.",
        "level": "junior | intermediate | senior",
        "code": "User's code snippet"
      }
    },
    "documentationGeneration": {
      "system": "You are a documentation expert. Generate clear, accurate code documentation.",
      "user": "Generate {{format}} documentation for this {{language}} function:\n\n```{{language}}\n{{code}}\n```\n\nInclude:\n- Brief description\n- Parameters with types\n- Return value with type\n- Example usage\n- Edge cases or notes",
      "variables": {
        "format": "JSDoc | docstring | inline comments",
        "language": "Detected or selected language",
        "code": "Function code"
      }
    },
    "interactiveQA": {
      "system": "You are a helpful programming tutor. Answer questions about code clearly.",
      "user": "Code:\n```{{language}}\n{{code}}\n```\n\nPrevious conversation:\n{{conversationHistory}}\n\nUser question: {{question}}\n\nAnswer the question about the code above.",
      "variables": {
        "code": "Original code",
        "conversationHistory": "Q&A so far",
        "question": "User's new question"
      }
    }
  },
  "integrationExamples": {
    "languageDetection": "import { detect } from 'language-detect'\n\nfunction detectLanguage(code: string): string {\n  const detected = detect(code)\n  return detected || 'javascript' // fallback\n}",
    "syntaxHighlighting": "import Prism from 'prismjs'\nimport 'prismjs/components/prism-javascript'\nimport 'prismjs/components/prism-python'\n\nconst highlighted = Prism.highlight(code, Prism.languages[language], language)",
    "explanationAPI": "export async function POST(req: Request) {\n  const { code, language, depth } = await req.json()\n\n  const prompt = buildExplanationPrompt(code, language, depth)\n  const explanation = await claude.generate(prompt)\n\n  // Track metrics\n  await trackLLMUsage({ feature: 'code-explanation', tokens: getTokenCount(explanation) })\n\n  return Response.json({ explanation })\n}"
  },
  "successMetrics": [
    {
      "metric": "Time Saved",
      "description": "Minutes saved understanding code vs reading docs/asking teammates",
      "target": "10+ minutes saved per code snippet",
      "measurement": "User survey: 'How long would this take without the tool?'"
    },
    {
      "metric": "Explanation Quality",
      "description": "User rating of explanation helpfulness (1-5)",
      "target": "4.2+ average",
      "measurement": "Thumbs up/down or 1-5 rating after each explanation"
    },
    {
      "metric": "Usage Frequency",
      "description": "How often users return to use the tool",
      "target": "3+ uses per week for active users",
      "measurement": "Track usage per user_id"
    },
    {
      "metric": "Cost per Explanation",
      "description": "Average LLM cost per code explanation",
      "target": "<$0.01 per explanation",
      "measurement": "Track tokens, calculate cost"
    }
  ],
  "costEstimate": {
    "development": {
      "hours": 35,
      "description": "25 hours core features + 10 hours polish/deploy"
    },
    "api": {
      "perExplanation": "$0.005-0.015",
      "monthly": "$5-30 for 1000 explanations",
      "optimization": "Cache common code patterns, use Claude Haiku for simple code"
    },
    "hosting": {
      "platform": "Vercel Free or Pro ($20/mo)",
      "database": "Optional - Vercel Postgres or Supabase",
      "total": "$0-20/month initially"
    }
  },
  "differentiationIdeas": [
    "Focus on specific language (e.g., only Rust code explanation)",
    "Add learning mode: quiz users on explained code",
    "Visual diagrams: generate flowcharts for complex logic",
    "Compare implementations: show how code could be improved",
    "CLI tool for terminal use (npm install -g code-explainer)"
  ],
  "technicalChallenges": [
    {
      "challenge": "Handling very large code files (>1000 lines)",
      "solution": "Extract only relevant functions/classes, or chunk code and explain sections"
    },
    {
      "challenge": "Maintaining context in interactive Q&A",
      "solution": "Store full conversation + code in session, include in each prompt"
    },
    {
      "challenge": "Accurate language detection",
      "solution": "Use library like 'language-detect' or let users select manually"
    },
    {
      "challenge": "Syntax highlighting for 20+ languages",
      "solution": "Use Prism.js (supports 200+ languages) or Monaco Editor"
    }
  ],
  "inspirationProjects": [
    "GitHub Copilot Chat (explain code)",
    "Sourcegraph Cody (code understanding)",
    "Pieces for Developers (code snippets + AI)",
    "Tabnine (code completion with explanations)"
  ]
}
