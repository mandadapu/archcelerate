{
  "id": "lab-1-image-analysis",
  "title": "Analyze Images with Claude",
  "description": "Practice basic image analysis using Claude's vision API",
  "difficulty": "intermediate",
  "estimatedMinutes": 30,
  "language": "javascript",
  "starterCode": "/**\n * Analyze an image and extract key information\n * @param {string} imageBase64 - Base64 encoded image\n * @param {string} task - What to analyze (e.g., 'describe', 'identify objects', 'extract text')\n * @returns Analysis result\n */\nasync function analyzeImage(imageBase64, task) {\n  // Your code here\n  // Use Claude API with vision capability\n  return null\n}\n\n/**\n * Encode image file to base64\n * @param {File} file - Image file\n * @returns Base64 string\n */\nfunction encodeImage(file) {\n  // Your code here\n  return null\n}\n",
  "instructions": "Implement image analysis functions:\n1. `encodeImage(file)`: Convert image file to base64 string\n2. `analyzeImage(imageBase64, task)`: Call Claude API with image\n   - Use proper image format (base64 with media type)\n   - Include task in prompt\n   - Return structured analysis\n\nClaude vision API format:\n- model: 'claude-3-5-sonnet-20250129'\n- messages with image content type\n- image_source with base64 data",
  "testCases": [
    {
      "input": "encodeImage(mockImageFile).startsWith('data:image/')",
      "expectedOutput": "true",
      "description": "Encodes image with proper data URL format"
    },
    {
      "input": "encodeImage(mockImageFile).includes('base64,')",
      "expectedOutput": "true",
      "description": "Includes base64 encoding marker"
    },
    {
      "input": "typeof await analyzeImage(mockBase64, 'describe')",
      "expectedOutput": "string",
      "description": "Returns analysis as string"
    },
    {
      "input": "(await analyzeImage(mockBase64, 'describe')).length > 0",
      "expectedOutput": "true",
      "description": "Returns non-empty analysis"
    }
  ],
  "hints": [
    "Use FileReader API for base64 encoding",
    "Image format: {type: 'image', source: {type: 'base64', media_type: 'image/jpeg', data: base64}}",
    "Include image in messages array with text prompt",
    "Handle async/await for Claude API calls"
  ]
}
